@model CatMashWeb.ViewModels.CatVotingViewModel

@{
    ViewData["Title"] = "Vote";
}
<h2>@ViewData["Title"]</h2>
<h3>@ViewData["Message"]</h3>

@using (Html.BeginForm("UpdateCatScore", "CatMash", FormMethod.Post, new { id = "formCatVoting" }))
{
    <div class="row">
        <div class="col-md-12">
            Were we let in for our looks? No. Will we be judged on them? Yes.
            <br>
            Vote now ! Click to Choose
        </div>
    </div>
    <br>

    <div class="row">
        <div class="col-md-6" style="height: 450px;">
            <img src="@Model.CatCandidateLeft.ImgUrl" id="@Model.CatCandidateLeft.Id" class="img-responsive js-catcandidate" style="width:100%;height:100%" asp-append-version="true" />
        </div>
        <div class="col-md-6" style="height: 450px;">
            <img src="@Model.CatCandidateRight.ImgUrl" id="@Model.CatCandidateRight.Id" class="img-responsive js-catcandidate" style="width:100%;height:100%" asp-append-version="true" />
        </div>
    </div>
    <br>
    <div class="row">
        <div class="col-md-12 text-center">
            <a href="/Catmash/CatVoting/?idxCat=@(Model.IdxCat + 1)" title="Next Players">→</a>
        </div>
    </div>
    <br />
    <div class="row">
        <div class="col-md-12 text-center">
            <a href="/Catmash/CatCandidatesRanking" class="bottom">Top 100</a>
        </div>
    </div>
}

@section Scripts {
    @*a voir*@
    @*<script src="~/js/catVoting.min.js"></script>*@
    <script>
            $(document).ready(function () {
                InitEvents();
            });

            function InitEvents() {
                $(".js-catcandidate").on("click", function () {
                    CatVoting(this);
                });
            }

            function CatVoting(obj) {
                $("#CatIdSelected").val(obj.id);
                $("#formCatVoting").submit();
            }
        </script>
}
